(function(factory){var amd=typeof define=="function"&&define.amd&&(define(["jquery"],factory)||true),commonjs=!amd&&typeof module=="object"&&typeof module.exports=="object"&&(module.exports=factory),plain=!amd&&!commonjs&&factory(jQuery)})(function(jQuery){return jQuery.tinyNav||function(jQuery,window,document,undefined){"use strict";var tinyNav=jQuery.tinyNav=function(element,options){return jQuery(element).tinyNav(options)};tinyNav.version="1.2";(function($,i){$.fn.tinyNav=function(options){var settings=$.extend({active:"selected",header:"",indent:"- ",label:""},options);return this.each(function(){i++;var $nav=$(this),namespace="tinynav",namespace_i=namespace+i,l_namespace_i=".l_"+namespace_i,$select=$("<select/>").attr("id",namespace_i).addClass(namespace+" "+namespace_i);if($nav.is("ul,ol")){if(settings.header!==""){$select.append($("<option/>").text(settings.header))}var options="";$nav.addClass("l_"+namespace_i).find("a").each(function(){options+='<option value="'+$(this).attr("href")+'">';var j;for(j=0;j<$(this).parents("ul, ol").length-1;j++){options+=settings.indent}options+=$(this).text()+"</option>"});$select.append(options);if(!settings.header){$select.find(":eq("+$(l_namespace_i+" li").index($(l_namespace_i+" li."+settings.active))+")").attr("selected",true)}$select.change(function(){window.location.href=$(this).val()});$(l_namespace_i).after($select);if(settings.label){$select.before($("<label/>").attr("for",namespace_i).addClass(namespace+"_label "+namespace_i+"_label").append(settings.label))}}})}})(jQuery,0);return jQuery.tinyNav}(jQuery,window,document)});
